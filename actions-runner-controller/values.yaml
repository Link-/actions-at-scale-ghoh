# Default values for actions-runner-controller.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

labels: {}

replicaCount: 1

syncPeriod: 10m

enableLeaderElection: true
# Specifies the controller id for leader election.
# Must be unique if more than one controller installed onto the same namespace.
#leaderElectionId: "actions-runner-controller"

# The controller tries its best not to repeat the duplicate GitHub API call
# within this duration.
# Defaults to syncPeriod - 10s.
#githubAPICacheDuration: 30s

# The URL of your GitHub Enterprise server, if you're using one.
#githubEnterpriseServerURL: https://github.example.com

# Only 1 authentication method can be deployed at a time
# Uncomment the configuration you are applying and fill in the details
authSecret:
  create: true
  name: "controller-manager"
  annotations: {}
  ### GitHub Apps Configuration
  ## NOTE: IDs MUST be strings, use quotes
  github_app_id: "162110"
  github_app_installation_id: "21870103"
  github_app_private_key: |-
    -----BEGIN RSA PRIVATE KEY-----
    MIIEoQIBAAKCAQEA5o1bswjQopE5Cg5cSfDz6dIzVmpFDfLtYP8iD8gPZ5ai+shx
    MGzBpgL2L+obXmTol8dkzmwp0ZTk5+3KMSPWqMEAl0CNFTVbxCsDnrzLXfC7t91Y
    mxtvP+wqQ22aRI7clONn6z+vGJpyR3UdXJtHxEefyvkRiih4kfpI+ZUpts8hdgaH
    XAsCKGa/9+CvuDuM6muD9pnzbB2mcxBwprxsTzPyTXDQ8cCLjb7+77eFkTk2nXTg
    vzwGqizqJE4tL4pMtfDgBv0IA+AE6JQOd1AOkYHjmfTOgywgVfEdTldqRJvUBy+s
    ZXjJjjS3NZ7aUWl/vVUuQukUSfP6saqMmFGlqwIDAQABAoIBAFPB7Rt4y1sUCTXX
    C74tFF/Q5qexSc8MfyKq7bPwCXCnsCQNp9lg2WU3VDsKANFlNX7WiI/ZicPDJPoB
    UGBT1ctO+qj4YYjf7quwuMr1aaiCKaBdgLAw4lTFtoDyk4XupMJOb1VuuGzmxzeg
    m38mRodPQgUaQT4A//SAifxqLVJk8usozvuzqI1lH7zEGxis9QarUDJfGOcn7nPg
    y4jXSQAzTKIoNBuqrSrTU877zoSClRWbM+E7Wr7JEA6y83db0K+VxrhZQcJZBObt
    8+HSQePimOrBLEgeyBBXgHz+8p8PGl6qsPc6xCFb2ZlmINBidTHbbyY7WYXQ9BUh
    K0vjpokCgYEA/H3EdhZzu3I/c3Ki1q5w1sYkTV0BnCGZdOJ1avUNNS8oKaR4WW1y
    vh0lSk9qKcKhlgNoqywyhC42iG5bRLdChR5AOtkCr62OXL8bHmadtS0lZkNFzpL1
    6s+gSt7QeJCc5ovVob+VFYUy761jEL/+WOXgeHaLuTSlMUGHDQ++hc0CgYEA6cGK
    +hLjIWlVDxrZkuzeJNyL3iUMZc3Kzsk+5IQ/VwsY8kQrjEJfnujWXOU05xPK6LyJ
    rAFthvonGgy1ZIwdgFrLjgdYakw0GKcHIJpua27JJKD9x/ABvHbDC3tOkEQqLeal
    y4iBqRaLUo5PvcGus6kIH4zVyJJMIdTPJG3d4VcCgYEA4ZCp1qUwNyFVthmPiCLH
    A9h3zfVs3sLViSpWo3rQldbPFoSsT5gLjfQTwFM6EJykJpRdCa6uYo+2gCO2vajK
    cIoZ73i3gaKXMBw6aepaseTnKHipAGch8ugR11E/BLaMtRnvfFTfJx6b5qsLeYdL
    /rc+1d9x678wZNSZhf2uw3ECgYBzb2yeSi14Fng22V+QuwCI25EGxuz0aUg6Dg/M
    8bIF3ikXmqqWvUBTTVBu15Hke1W80T57fskD2wzsRFJfsQHwnOXg4ae79p3Tfsh6
    RUk6LJ+QQyCQV+nDlDKFvQLzI3Zg7IH7nRHK2qM6xaSDZN5NQrAMRJReVEDchCc3
    KjpkSQJ/fM4uteu3AJDCsPA3Twi/6FKpBXKSNiNTlR/NCvVzkq9ahk87nDQQAdx6
    mWnbYUHy8B7lTg2MtIK4bXOTr+WHUqgl7bhwEy4dWhprord7xg0p96pa4PmjmUYC
    +Qu5Oyupe0or9F9KTkbE66oSIF2PxAlERnurpkeujeGjZJzkbA==
    -----END RSA PRIVATE KEY-----
  ### GitHub PAT Configuration
  #github_token: ""

dockerRegistryMirror: ""
image:
  repository: "summerwind/actions-runner-controller"
  actionsRunnerRepositoryAndTag: "summerwind/actions-runner:latest"
  dindSidecarRepositoryAndTag: "docker:dind"
  pullPolicy: IfNotPresent

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  # Specifies whether a service account should be created
  create: false
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations: {}

podLabels: {}

podSecurityContext:
  {}
  # fsGroup: 2000

securityContext:
  {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

# Webhook service resource
service:
  type: ClusterIP
  port: 443
  annotations: {}

# Metrics service resource
metrics:
  serviceAnnotations: {}
  serviceMonitor: false
  serviceMonitorLabels: {}
  port: 8443
  proxy:
    enabled: true
    image:
      repository: quay.io/brancz/kube-rbac-proxy
      tag: v0.10.0

resources:
  {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

nodeSelector: {}

tolerations: []

affinity: {}

# Only one of minAvailable or maxUnavailable can be set
podDisruptionBudget:
  enabled: false
  # minAvailable: 1
  # maxUnavailable: 3

# Leverage a PriorityClass to ensure your pods survive resource shortages
# ref: https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/
# PriorityClass: system-cluster-critical
priorityClassName: ""

env:
  {}
  # http_proxy: "proxy.com:8080"
  # https_proxy: "proxy.com:8080"
  # no_proxy: ""

## specify additional volumes to mount in the manager container, this can be used
## to specify additional storage of material or to inject files from ConfigMaps
## into the running container
additionalVolumes: []

## specify where the additional volumes are mounted in the manager container
additionalVolumeMounts: []

scope:
  # If true, the controller will only watch custom resources in a single namespace
  singleNamespace: false
  # If `scope.singleNamespace=true`, the controller will only watch custom resources in this namespace
  # The default value is "", which means the namespace of the controller
  watchNamespace: ""

githubWebhookServer:
  enabled: true
  replicaCount: 1
  syncPeriod: 10m
  secret:
    create: true
    name: "github-webhook-server"
    ### GitHub Webhook Configuration
    github_webhook_secret_token: "some-very-random-secret"
  imagePullSecrets: []
  nameOverride: ""
  fullnameOverride: ""
  serviceAccount:
    # Specifies whether a service account should be created
    create: false
    # Annotations to add to the service account
    annotations: {}
    # The name of the service account to use.
    # If not set and create is true, a name is generated using the fullname template
    name: ""
  podAnnotations: {}
  podLabels: {}
  podSecurityContext: {}
  # fsGroup: 2000
  securityContext: {}
  resources: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}
  priorityClassName: ""
  service:
    type: ClusterIP
    annotations: {}
    ports:
      - port: 80
        targetPort: http
        protocol: TCP
        name: http
        #nodePort: someFixedPortForUseWithTerraformCdkCfnEtc
  ingress:
    enabled: false
    annotations:
      {}
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    hosts:
      - host: chart-example.local
        paths: []
    tls: []
    #  - secretName: chart-example-tls
    #    hosts:
    #      - chart-example.local

  # Only one of minAvailable or maxUnavailable can be set
  podDisruptionBudget:
    enabled: false
    # minAvailable: 1
    # maxUnavailable: 3
